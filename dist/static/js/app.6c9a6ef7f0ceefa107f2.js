webpackJsonp([1],{"4dtz":function(e,t){},"51tZ":function(e,t){},"6bvQ":function(e,t,n){e.exports=n.p+"static/img/1.e01110a.jpg"},"993g":function(e,t){},Bc63:function(e,t){},Egt1:function(e,t){},Miy4:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},r,!1,function(e){n("51tZ")},null,null).exports,i=n("/ocq"),o={ALL_MEMBERS:"/main/all-members",FAMILY_TREE:"/main/family-tree",FAVOURITE:"/main/favourite",MAIN:"/main",LOGIN:"/login"},u={name:"Navbar",props:["user"],created:function(){this.PATH=o}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("header",[n("div",{staticClass:"image",style:{"background-image":"url("+e.user.image+")"}}),e._v(" "),n("div",{staticClass:"title"},[e._v("\n      "+e._s(e.user.name)+"\n      "),n("div",{staticClass:"subtitle"},[e._v(e._s(e.user.id))])]),e._v(" "),e._m(0)]),e._v(" "),n("div",{staticClass:"subheader"},[n("router-link",{staticClass:"link",class:{active:e.$route.path===e.PATH.ALL_MEMBERS},attrs:{to:e.PATH.ALL_MEMBERS}},[e._v("\n      All members\n    ")]),e._v(" "),n("router-link",{staticClass:"link",class:{active:e.$route.path===e.PATH.FAMILY_TREE},attrs:{to:e.PATH.FAMILY_TREE}},[e._v("\n      Family tree\n    ")]),e._v(" "),n("router-link",{staticClass:"link",class:{active:e.$route.path===e.PATH.FAVOURITE},attrs:{to:e.PATH.FAVOURITE}},[e._v("\n      Favourite\n    ")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right"},[t("span",{staticClass:"icon-cog"})])}]};var l=n("VU/8")(u,c,!1,function(e){n("lVFH")},"data-v-1ea7c896",null).exports,m=n("Zrlr"),d=n.n(m),h=n("wxAW"),f=n.n(h),p=new(function(){function e(){d()(this,e),this.users=[],this.members=n("sZtW")}return f()(e,[{key:"set",value:function(e){this.users=e}},{key:"get",value:function(){return this.users}},{key:"getMemberByProperty",value:function(e,t){return this.members.find(function(n){return n[e]===t})}},{key:"getMembersByProperty",value:function(e,t){return this.members.filter(function(n){return n[e]===t})}},{key:"clear",value:function(){this.users=[]}}]),e}()),v=n("//Fk"),g=n.n(v),_=new(function(){function e(){d()(this,e),this.token="",this.load()}return f()(e,[{key:"load",value:function(){var e=document.createElement("script");e.src="//apis.google.com/js/client.js",document.head.appendChild(e)}},{key:"login",value:function(){return new g.a(function(e,t){gapi.auth.authorize({client_id:"606446327899-aqark103pcp32lcd4blruk51reavreb5.apps.googleusercontent.com",scope:"https://www.google.com/m8/feeds https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/plus.me"},function(){localStorage.token=gapi.auth.getToken().access_token,e()},t)})}},{key:"getContacts",value:function(){return fetch("https://www.google.com/m8/feeds/contacts/default/full?alt=json&max-results=10000000&access_token="+localStorage.token)}},{key:"getProfile",value:function(){return fetch("https://www.googleapis.com/plus/v1/people/me?access_token="+localStorage.token)}}]),e}()),b={name:"MainPage",components:{Navbar:l},data:function(){return{user:{}}},created:function(){var e=this;_.getProfile().then(function(e){return e.json()}).then(function(t){e.user={id:t.emails[0]?t.emails[0].value:"",name:t.displayName,gender:t.gender,image:t.image?t.image.url:""},p.set(e.user)})}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page"},[t("Navbar",{attrs:{user:this.user}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var I=n("VU/8")(b,y,!1,function(e){n("993g")},"data-v-abc657f0",null).exports,C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-bar"},[n("span",{staticClass:"icon-search"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"search",placeholder:"Search by name...",keyup:e.$emit("onKeyup",e.model)},domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])},staticRenderFns:[]};var E=n("VU/8")({name:"SearchBar",data:function(){return{model:""}}},C,!1,function(e){n("Bc63")},"data-v-60dd91dc",null).exports,k={name:"ListMember",props:["member"],methods:{getImagePath:function(e){try{return n("y9hb")("./"+e.id+".jpg")}catch(e){return""}}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-member"},[n("span",{staticClass:"icon-star"}),e._v(" "),n("div",{staticClass:"image",style:{"background-image":"url("+e.getImagePath(e.member)+")"}}),e._v(" "),n("div",{staticClass:"title"},[e._v("\n    "+e._s(e.member.name)+"\n\n    "),n("div",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.member.email)+"\n    ")])])])},staticRenderFns:[]};var A={components:{ListMember:n("VU/8")(k,w,!1,function(e){n("tULx")},"data-v-1fd12224",null).exports,SearchBar:E},data:function(){return{members:[],search:""}},computed:{membersComputed:function(){var e=this;return this.search?this.members.filter(function(t){return-1!==t.name.search(e.search)}):this.members}},mounted:function(){var e=this;_.getContacts().then(function(e){return e.json()}).then(function(t){t.feed.entry.forEach(function(t,n){e.members.push({id:t.gd$email&&t.gd$email.length>0?t.gd$email[0].address:"",name:t.title.$t,email:t.gd$email&&t.gd$email.length>0?t.gd$email[0].address:""})})})},methods:{onSearchTextChanges:function(e){this.search=e}}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page"},[t("SearchBar",{on:{onKeyup:this.onSearchTextChanges}}),this._v(" "),t("div",{staticClass:"list-view"},this._l(this.membersComputed,function(e,n){return t("ListMember",{key:n,attrs:{member:e}})}))],1)},staticRenderFns:[]};var F=n("VU/8")(A,M,!1,function(e){n("jCBu")},"data-v-1252cbac",null).exports,T={props:["member","isSelf"],methods:{getImagePath:function(e){try{return n("y9hb")("./"+e.id+".jpg")}catch(e){return""}}}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-node",class:{self:e.isSelf}},[n("div",{staticClass:"image",style:{"background-image":"url("+e.getImagePath(e.member)+")"}}),e._v(" "),n("div",{staticClass:"text"},[e._v("\n    "+e._s(e.member.name)+"\n    "),n("div",{staticClass:"relation"},[e._v("Relation")])])])},staticRenderFns:[]};var P={name:"FamilyTree",components:{TreeNode:n("VU/8")(T,L,!1,function(e){n("Miy4")},"data-v-0ade946f",null).exports},created:function(){this.user=p.get(),this.spouse=p.getMemberByProperty("spouseId",this.user.id),"male"===this.user.gender?this.children=p.getMembersByProperty("fatherId",this.user.id):this.children=p.getMembersByProperty("motherId",this.user.id)},methods:{getSpouseOfChild:function(e){return p.getMemberByProperty("spouseId",e.id)}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"tree-list-item"},[n("TreeNode",{attrs:{member:e.user,isSelf:!0}}),e._v(" "),n("TreeNode",{attrs:{member:e.spouse}})],1),e._v(" "),n("div",{staticClass:"children"},e._l(e.children,function(t){return n("div",{key:t.id,staticClass:"tree-list-item"},[n("TreeNode",{attrs:{member:t}}),e._v(" "),n("TreeNode",{attrs:{member:e.getSpouseOfChild(t)}})],1)}))])},staticRenderFns:[]};var $=n("VU/8")(P,R,!1,function(e){n("W1a6")},"data-v-0bca8e1a",null).exports,x={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"page"},[this._v("\n  Fav\n")])},staticRenderFns:[]};var N=n("VU/8")({},x,!1,function(e){n("4dtz")},"data-v-090b8843",null).exports,S={methods:{submit:function(){var e=this;_.login().then(function(){e.$router.push(o.ALL_MEMBERS)})}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("form",{on:{submit:function(t){e.submit()}}},[n("div",{staticClass:"title"},[e._v("Login")]),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Login with Google")])])])},staticRenderFns:[]};var V=n("VU/8")(S,B,!1,function(e){n("Egt1")},"data-v-bb66a32c",null).exports;a.a.use(i.a);var U=new i.a({routes:[{path:"/",redirect:o.LOGIN},{path:o.LOGIN,component:V},{path:o.MAIN,component:I,children:[{path:o.ALL_MEMBERS,component:F},{path:o.FAMILY_TREE,component:$},{path:o.FAVOURITE,component:N}]}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:U,components:{App:s},template:"<App/>"})},W1a6:function(e,t){},jCBu:function(e,t){},lVFH:function(e,t){},sZtW:function(e,t){e.exports=[{id:1,name:"Ashvin suthar",email:"ashvin.suthar777@gmail.com",gender:"male",fatherId:3,motherId:4,spouseId:2},{id:2,name:"Anita suthar",gender:"female",email:"anita.suthar777@gmail.com",fatherId:null,motherId:null,spouseId:1},{id:3,name:"Pratap ram suthar",email:"prsuthar@gmail.com",gender:"male",fatherId:null,motherId:null,spouseId:4},{id:4,name:"Nathi devi",gender:"female",fatherId:null,motherId:null,spouseId:3},{id:5,name:"Poonam mistry",gender:"female",fatherId:3,motherId:4,spouseId:6},{id:6,name:"Navin mistry",gender:"male",fatherId:null,motherId:null,spouseId:5},{id:7,name:"Vinod suthar",gender:"male",fatherId:3,motherId:4,spouseId:8},{id:8,name:"Hetal suthar",gender:"female",fatherId:null,motherId:null,spouseId:7}]},tULx:function(e,t){},y9hb:function(e,t,n){var a={"./1.jpg":"6bvQ"};function r(e){return n(s(e))}function s(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="y9hb"}},["NHnr"]);
//# sourceMappingURL=app.6c9a6ef7f0ceefa107f2.js.map